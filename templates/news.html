{% extends 'base.html' %}
{% load static %}

{% block additional_css %}
{% endblock %}

{% block content %}

<!--**********************************
    Content body start
***********************************-->
<div class="content-body">
    <!-- row -->
    <div class="container-fluid">
        <!-- Row -->
        <div class="row">

            {% include 'elements/nav-tool.html' %}

            <div class="col-xl-12">
                <div class="tab-content" id="nav-tabContent">
                    <div class="tab-pane fade show active" id="nav-recommend" role="tabpanel">
                        <div class="row">
                            <div class="col-xl-12">

                                <div class="card">
                                    <div class="card-body">
                                        <div class="my-post-content pt-3">
                                            <!-- 循环输出news  tab1-->
                                            {% for item in news %}
                                            <div class="media profile-uoloaded-post border-bottom-1 pb-5 ">
                                                <a class="me-3"
                                                   href="{{ item.link }}"
                                                   style="height: 20rem;">
                                                    <img src="{% if item.photo_url %}{{ item.photo_url }}{% else %}{% static 'financial/images/profile/1.webp' %}{% endif %}"
                                                         alt="" style="height: 20rem; width: 35vw;"
                                                         class="img-fluid  rounded ">
                                                </a>

                                                <div class="media-body">
                                                    <a class="post-title" href="{{ item.link }}">
                                                        <h3 class="text-dark">{{ item.title }}</h3></a>
                                                    <p><strong>Source: </strong>{{ item.publisher }}</p>
                                                    <p><strong>Posted on: </strong>{{ item.providerPublishTime }}</p>
                                                    <br><br>
                                                    {% if item.relatedTickerURLs %}
                                                        <h5>Related Stocks</h5>
                                                        <ul>
                                                            {% for ticker, url in item.relatedTickerURLs %}
                                                                <li><a href="{{ url }}">{{ ticker }}</a></li>
                                                            {% endfor %}
                                                        </ul>
                                                    {% endif %}
                                                </div>

                                            </div>
                                            {% endfor %}

                                        </div>
                                    </div>
                                </div>

                            </div>


                        </div>
                    </div>
                </div>


            </div>
        </div>
    </div>
</div>
<!--**********************************
    Content body end
***********************************-->

{% endblock %}


{% block additional_js %}
<script>
    var swipercard = function () {

        function carouselDir() {
            if ($('body').attr('direction') == "rtl") {
                return true;
            } else {
                return false;
            }
        }

        if (jQuery(".mySwiper-counter").length > 0) {
            var swiper = new Swiper('.mySwiper-counter', {


                speed: 1500,
                slidesPerView: 3,
                spaceBetween: 30,
                rtl: true,
                parallax: true,
                loop: false,
                autoplay: {
                    delay: 5000,
                },
                navigation: {
                    nextEl: '.swiper-button-next',
                    prevEl: '.swiper-button-prev',
                },
                breakpoints: {

                    300: {
                        slidesPerView: 1,
                        spaceBetween: 30,
                    },
                    480: {
                        slidesPerView: 2,
                        spaceBetween: 30,
                    },
                    768: {
                        slidesPerView: 3,
                        spaceBetween: 30,
                    },
                    991: {
                        slidesPerView: 3,
                        spaceBetween: 30,
                    },
                    1200: {
                        slidesPerView: 4,
                        spaceBetween: 30,
                    },

                },
            });
        }
    }

    swipercard();
</script>
{% endblock %}